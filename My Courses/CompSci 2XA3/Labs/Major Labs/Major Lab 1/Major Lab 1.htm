
<!-- saved from url=(0066)http://www.cas.mcmaster.ca/~franek/courses/cs2xa3/labs/lab.cgi?lab -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style> a:hover { background-color: yellow; } </style>
<title>CS 2XA3(2018/19,Term I) Major Lab 1</title>
</head>

<body>

<h1><img src="./Major Lab 1_files/logo.jpg" width="786" height="92" alt="logo.jpg (32213 bytes)"></h1>

<h1><font color="#999999">C:</font> CS 2XA3 (2018/19, Term I) Major Lab 1 -- lab section L01</h1>

<table border="0" cellspacing="0" cellpadding="0">
  <tbody><tr>
    <td><form action="http://www.cas.mcmaster.ca/~franek/courses/cs2xa3/labs/labs.cgi?lab" method="post">
      <input type="hidden" name="snow" value="4400363121"><p><br>
      <input type="submit" name="exec" value="Back To Lab Menu">&nbsp;&nbsp;&nbsp;</p>
    </form>
    </td>
    <td><form action="http://www.cas.mcmaster.ca/~franek/courses/cs2xa3/login/back.cgi" method="post">
      <input type="hidden" name="snow" value="4400363121"><p><br>
      <input type="submit" name="back" value="Back To Main Menu">&nbsp;&nbsp;&nbsp;</p>
    </form>
    </td>
    <td height="26"><form action="http://www.cas.mcmaster.ca/~franek/courses/cs2xa3/labs/presubmit.cgi" method="post">
      <input type="hidden" name="snow" value="4400363121"><input type="hidden" name="header" value="proj,1,L01"><p><br>
      <input type="submit" name="exec" value="Submissions">&nbsp;&nbsp;&nbsp;</p>
    </form>
    </td>
    <td><form action="http://www.cas.mcmaster.ca/~franek/courses/cs2xa3/login/logout.cgi" method="post">
      <input type="hidden" name="snow" value="4400363121"><p><br>
      <input type="submit" value="Log Out"></p>
    </form>
    </td>
  </tr>
</tbody></table>

<p><big>sample solutions: <a href="http://www.cas.mcmaster.ca/~franek/courses/cs2xa3/labs/proj1/C/script1"><font face="Courier New, Courier, monospace">script1</font></a> and <a href="http://www.cas.mcmaster.ca/~franek/courses/cs2xa3/labs/proj1/C/script2"><font face="Courier New, Courier, monospace">script2</font></a></big></p>


<table border="0" width="962">
<tbody><tr><td width="956"><p><big><font color="#0000FF"><em><strong>If you are in the correct lab room and during the
SCHEDULED time slot for your lab section for Major Lab 1 and working on one of the lab's workstations, go into Marks+Comments to see if your attendance was registered. If you signed on the course website too early (the most common problem), your attendance would not be recorded; in such case, please log out and sign on again. If your attendance is still not recorded, please,  ask your TA to record your attendance and email Prof. Franek right away. If you are not using one of the lab's workstations, please, have the TA record your attendance.</strong></em></font></big></p></td></tr>
<tr><td><big><font color="#808080"><em><strong>The Major Labs are open book labs, you can bring and use any notes etc. You can access any website, Google, Wikipedia etc. The only thing that is not allowed is cooperation with other people, inside or outside the lab. You must submit your own work. The TA can only help with administrative and technical aspects and not with the solutions of the problems of the Major Lab.</strong></em></font></big></td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td><big>In this lab, there are three tasks and three deliverables: text files <font color="#0000FF" face="Courier New, Courier, monospace">safety</font> and
<font color="#0000FF" face="Courier New, Courier, monospace">script1</font> and <font color="#0000FF" face="Courier New, Courier, monospace">script2</font>. Each can be 
submitted either via the course website, or using <font color="#0000FF" face="Courier New, Courier, monospace">2xa3submit</font>. For 
<font color="#0000FF" face="Courier New, Courier, monospace">2xa3submit</font> submission please use 
<font color="#0000FF" face="Courier New, Courier, monospace">2xa3submit AAA proj1 BBB</font> where 
<font color="#0000FF" face="Courier New, Courier, monospace">AAA</font> is your student number and 
<font color="#0000FF" face="Courier New, Courier, monospace">BBB</font> the name of the file you want to submit. You can submit 
every file as many times as you wish, the latest submission will be used for marking. The submission is opened from 8:30-11:20 or 14:30-17:20 depending on the lab section; 
after the closing time no submission is be possible.  
<font color="#FF0000">If submission is not possible for whatever reason (typically right after the submission closes), email the file or files as an attachment immediately (needed 
for the time verification) to Prof. Franek (franek@mcmaster.ca) with an explanation of the problem; you must use your official McMaster email account for that. Include the course 
code, your lab section, full name, and your student number. Note that if there is no problem with submission (typically the student using a wrong name for the file), you might be assessed 
a penalty for email submission, depending on the reason you used email.</font></big></td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td><big><strong><font color="#FF6600">Task 1. Safety Quiz</font></strong></big></td></tr>
<tr><td><big>Please, type your answers to a text file named <font color="#800040"><strong>safety</strong></font>&nbsp;. The safety manual can be found in the <a href="http://www.cas.mcmaster.ca/~franek/courses/cs2xa3/help/help.html">Help</a> section.</big></td></tr>
<tr><td><big><strong>The safety quiz questions:</strong></big><ol>
          <li><big>Who is in your case the Departmental Laboratory Supervisor?</big></li>
          <li><big>Name three important rights of Laboratory Workers.</big></li>
          <li><big>Name three important responsibilities of Laboratory Workers.</big></li>
          <li><big>Can you bring food to the lab?</big></li>
          <li><big>Can you bring drinks to the lab?</big></li>
          <li><big>Can you plug/unplug the lab workstations from the electric outlet?</big></li>
          <li><big>Can you bring and use your laptop in the labs?</big></li>
          <li><big>Can you use an extension cord to connect your laptop in the labs?</big></li>
</ol></td></tr>
<tr><td><big><strong><font color="#FF6600">Task 2. bash script named <big><font face="Courier New, Courier, monospace">script1</font></big></font></strong></big></td></tr>
<tr><td><big>The name of  your bash script must be <font color="#800040"><strong>script1</strong></font> and below is a description of what it should do when executed.</big></td></tr>
<tr><td><ol>
<li><big>All displayed messages must be exactly as shown here, with all details. All commands must follow the order described below.</big></li>
<li><big>The script creates 5 text files named <font color="#800040"><strong>week_day1</strong></font>, <font color="#800040"><strong>week_day2</strong></font>, <font color="#800040"><strong>week_day3</strong></font>, <font color="#800040"><strong>week_day4</strong></font>, and <font color="#800040"><strong>week_day5</strong></font>&nbsp;.</big></li>

<li><big>The content of <font color="#800040"><strong>week_day1</strong></font> are two lines 
<font color="#0000FF" face="Courier New, Courier, monospace">I am week_day1</font> and
<font color="#0000FF" face="Courier New, Courier, monospace">I love being Monday</font>, </big><big>the content of <font color="#800040"><strong>week_day2</strong></font> are two lines  
<font color="#0000FF" face="Courier New, Courier, monospace">I am week_day2</font> and <font color="#0000FF" face="Courier New, Courier, monospace">I love being Tuesday</font>,&nbsp;... , the content of<font color="#800040"> <strong>week_day5</strong></font> are two lines  <font color="#0000FF" face="Courier New, Courier, monospace">I am week_day5 </font>and <font color="#0000FF" face="Courier New, Courier, monospace"> I love being Friday</font>&nbsp;.</big></li>

<li><big>Then the script displays the line <font color="#0000FF" face="Courier New, Courier, monospace">week_day1:</font> followed by the contents of the file, followed by the line of 
<font color="#0000FF" face="Courier New, Courier, monospace">%</font> signs.</big></li>

<li><big>Similarly for <font color="#800040"><strong>week_day2</strong></font>&nbsp;... <font color="#800040"><strong>week_day5</strong></font>&nbsp;.</big></li>

<li><big>Then contents of all the files <font color="#800040"><strong>week_day1</strong></font>&nbsp;.. <font color="#800040"><strong>week_day5</strong></font> are concatenated into a single file named <font color="#800040"><strong>Weekdays </strong></font>in the following order: first <font color="#800040"><strong>week_day3</strong></font>, then  <font color="#800040"><strong>week_day5</strong></font>, then <font color="#800040"><strong>week_day1</strong></font>, then <font color="#800040"><strong>week_day2</strong></font>, and then <font color="#800040"><strong>week_day4</strong></font>&nbsp;. </big></li>

<li><big>The script displays the line <font color="#0000FF" face="Courier New, Courier, monospace">Weekdays:</font> and then displays the contents of the file <font color="#800040"><strong>Weekdays</strong></font>&nbsp;.</big></li>

<li><big>Then the script displays line <font color="#0000FF" face="Courier New, Courier, monospace">current directory:</font> and lists the contents of the current directory.</big></li>

<li><big>Then it removes all the files <font color="#800040"><strong>week_day1</strong></font>, <font color="#800040"><strong>week_day2</strong></font>, <font color="#800040"><strong>week_day3</strong></font>, <font color="#800040"><strong>week_day4</strong></font>, <font color="#800040"><strong>week_day5</strong></font>, and <font color="#800040"><strong>Weekdays</strong></font>&nbsp;.</big></li>

<li><big>Then the script displays the line <font color="#0000FF" face="Courier New, Courier, monospace">current directory:</font> and lists the contents of the current directory.</big></li>

<li><big>At this point the script terminates.</big></li>
<li><big>After the execution of the script, the current directory is in the same state as it was when the script started its execution.</big></li></ol></td></tr>
 <tr><td><big>A sample run:</big></td></tr>
 <tr><td><big><pre><font color="#996600">week_day1:
I am week_day1
I love being Monday
%%%%%%%%%%%%%%%%%%%
week_day2:
I am week_day2
I love being Tuesday
%%%%%%%%%%%%%%%%%%%
week_day3:
I am week_day3
I love being Wednesday
%%%%%%%%%%%%%%%%%%%
week_day4:
I am week_day4
I love being Thursday
%%%%%%%%%%%%%%%%%%%
week_day5:
I am week_day5
I love being Friday
%%%%%%%%%%%%%%%%%%%
Weekdays:
I am week_day3
I love being Wednesday
I am week_day5
I love being Friday
I am week_day1
I love being Monday
I am week_day2
I love being Tuesday
I am week_day4
I love being Thursday
current directory:
total 40
drwx------ 2 teststudent ugrad 4096 Aug  2 20:51 .
drwx------ 7 teststudent ugrad 4096 Dec  2  2017 ..
-rwx------ 1 teststudent ugrad  992 Aug  2 20:50 script1
-rwx------ 1 teststudent ugrad  782 Aug  2 16:11 script2
-rw-r--r-- 1 teststudent ugrad   35 Aug  2 20:51 week_day1
-rw-r--r-- 1 teststudent ugrad   36 Aug  2 20:51 week_day2
-rw-r--r-- 1 teststudent ugrad   38 Aug  2 20:51 week_day3
-rw-r--r-- 1 teststudent ugrad   37 Aug  2 20:51 week_day4
-rw-r--r-- 1 teststudent ugrad   35 Aug  2 20:51 week_day5
-rw-r--r-- 1 teststudent ugrad  181 Aug  2 20:51 Weekdays
current directory:
total 16
drwx------ 2 teststudent ugrad 4096 Aug  2 20:51 .
drwx------ 7 teststudent ugrad 4096 Dec  2  2017 ..
-rwx------ 1 teststudent ugrad  992 Aug  2 20:50 script1
-rwx------ 1 teststudent ugrad  782 Aug  2 16:11 script2</font></pre></big></td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td><big><strong><font color="#FF6600">3. bash script named <big><font face="Courier New, Courier, monospace">script2</font></big></font></strong></big></td></tr>
<tr><td><big>The name of  your bash script must be <font color="#800040"><strong>script2</strong></font> and below is a description of what it should do when executed.</big></td></tr>
<tr><td><ol>
<li><big>All displayed messages must be exactly as shown here, with all details. All commands must follow the order described below.</big></li>
<li><big>The scripts displays <font color="#0000FF" face="Courier New, Courier, monospace">creating subdirectory WEEK_DAYS </font>and creates a subdirectory named <font color="#800040"><strong>WEEK_DAYS</strong></font> in the current directory.</big></li>
<li><big>The scripts displays <font color="#0000FF" face="Courier New, Courier, monospace">creating file WEEK_DAY2 in WEEK_DAYS </font>and creates a file named <font color="#800040"><strong>WEEK_DAY2</strong></font> in the directory <font color="#800040"><strong>WEEK_DAYS</strong></font>&nbsp;.</big></li>
<li><big>Then the script displays <font color="#0000FF" face="Courier New, Courier, monospace">listing directory WEEK_DAYS</font> and then list the contents of  <font color="#800040"><strong>WEEK_DAYS</strong></font>&nbsp;.</big></li>
<li><big>Then the script displays <font color="#0000FF" face="Courier New, Courier, monospace">displaying file WEEK_DAY2</font> and then list the contents of the file <font color="#800040"><strong>WEEK_DAY2</strong></font> in <font color="#800040"><strong>WEEK_DAYS</strong></font>&nbsp;.</big></li>
<li><big>Then the script stores in a variable a string obtained by piping the output of </big><big><font color="#800040"><strong>ls -la</strong></font> to <font color="#800040"><strong>grep</strong></font> as applied to <font color="#800040"><strong>WEEK_DAYS</strong></font>&nbsp;. The first 10 letters of the string contain the permissions for the directory <font color="#800040"><strong>WEEK_DAYS</strong></font>&nbsp;. Play with <font color="#800040"><strong>ls -la WEEK\_DAYS </strong></font>to see what it produces. To store the result of <font color="#800040"><strong>ls&nbsp;‑la&nbsp;|&nbsp;grep&nbsp;WEEK\_DAYS</strong></font> in a variable <font color="#800040"><strong>var</strong></font> use 
<font color="#800040"><strong>var=`ls&nbsp;‑la&nbsp;|&nbsp;grep&nbsp;WEEK\_DAYS` </strong></font>(note the back quotes). To extract the first 10 characters from the string in <font color="#800040"><strong>var</strong></font> for use in <font color="#800040"><strong>echo</strong></font> in the next step,  use <font color="#800040"><strong>${var:0:10}</strong></font>&nbsp;.</big></li>
<li><big>Then the script displays a single line <font color="#0000FF" face="Courier New, Courier, monospace">original permissions of WEEK_DAYS: xxx
</font> where <font color="#800040"><strong>xxx</strong></font> is the permissions (the permissions must be obtained from the directory, not hard coded in the script !!!)</big>.</li>
<li><big>Then the script displays line <font color="#0000FF" face="Courier New, Courier, monospace">change it to d---------</font> and using <font color="#800040"><strong>chmod</strong></font> it changes the permissions to the desired combination. Then as in 7. and 8. , it displays a line containing  <font color="#0000FF" face="Courier New, Courier, monospace">new permissions of WEEK_DAYS: xxx
</font> where <font color="#800040"><strong>xxx</strong></font> is the changed permissions (the permissions must be obtained from the directory, not hard coded in the script !!!)</big>.</li>
<li><big>Then the script displays line <font color="#0000FF" face="Courier New, Courier, monospace">change it to dr--r--r--</font> and using <font color="#800040"><strong>chmod</strong></font> it changes the permissions to the desired combination. Then as in 7. and 8. , it displays a line containing <font color="#0000FF" face="Courier New, Courier, monospace">new permissions of WEEK_DAYS: xxx </font> where <font color="#800040"><strong>xxx</strong></font> is the changed permissions (the permissions must be obtained from the directory, not hard coded in the script !!!)</big>.</li>
<li><big>Then the script displays line <font color="#0000FF" face="Courier New, Courier, monospace">change it to drwx-wx--x</font> and using <font color="#800040"><strong>chmod</strong></font> it changes the permissions to the desired combination. Then as in 7. and 8. , it displays a line containing <font color="#0000FF" face="Courier New, Courier, monospace">new permissions of WEEK_DAYS: xxx</font> where <font color="#800040"><strong>xxx</strong></font> is the changed permissions (the permissions must be obtained from the directory, not hard coded in the script !!!).</big></li>
<li><big>Then the script displays line <font color="#0000FF" face="Courier New, Courier, monospace">trying to remove WEEK_DAYS by rm</font> and using <font color="#800040"><strong>rm </strong></font>it tries to remove the directory (it should not work).</big></li>
<li><big>Then the script displays line <font color="#0000FF" face="Courier New, Courier, monospace">trying to remove WEEK_DAYS by rmdir</font> and using <font color="#800040"><strong>rmdir </strong></font>it tries to remove the directory (it should not work)</big>.</li>
<li><big>Then the script displays line <font color="#0000FF" face="Courier New, Courier, monospace">trying to remove WEEK_DAYS by rm -r</font> and using <font color="#800040"><strong>rm -r  </strong></font>it tries to remove the directory (it should work) at which point the script terminates.</big></li>
<li><big>The current directory should not contain the directory <font color="#0000FF" face="Courier New, Courier, monospace">WEEK_DAYS</font> nor the file 
<font color="#0000FF" face="Courier New, Courier, monospace">WEEK_DAY2</font>&nbsp;.</big></li></ol>
</td></tr><tr><td><big>A sample run:</big></td></tr>
<tr><td><big><pre><font color="#996600">creating subdirectory WEEK_DAYS
creating file WEEK_DAY2 in WEEK_DAYS
listing directory WEEK_DAYS
WEEK_DAY2
displaying file WEEK_DAY2
%% tuesday %
original permissions of WEEK_DAYS: drwxr-xr-x
change it to dr--------
new permissions of WEEK_DAYS: dr--------
change it to dr--r--r--
new permissions of WEEK_DAYS: dr--r--r--
change it to drwx-wx--x
new permissions of WEEK_DAYS: drwx-wx--x
trying to remove WEEK_DAYS by rm
rm: cannot remove `WEEK_DAYS': Is a directory
trying to remove WEEK_DAYS by rmdir
rmdir: WEEK_DAYS: Directory not empty
trying to remove WEEK_DAYS by rm -r</font></pre></big></td></tr>
</tbody></table>


</body></html>