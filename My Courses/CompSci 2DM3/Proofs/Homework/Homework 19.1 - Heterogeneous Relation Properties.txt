Homework Notebook 19.1: Heterogeneous Relation Properties

Theorem â€œMonotonicity of âˆªâ€: Aâ‚ âŠ† Aâ‚‚ â‡’ (Aâ‚ âˆª B) âŠ† (Aâ‚‚ âˆª B)
Proof:
    Assuming `Aâ‚ âŠ† Aâ‚‚` and using with â€œSet inclusionâ€:
        Using â€œSet inclusionâ€:
            For any `x`:
                x âˆˆ (Aâ‚ âˆª B) â‡’ x âˆˆ (Aâ‚‚ âˆª B)
              â‰¡ âŸ¨ â€œUnionâ€ âŸ©
                x âˆˆ Aâ‚ âˆ¨ x âˆˆ B â‡’ x âˆˆ Aâ‚‚ âˆ¨ x âˆˆ B
              â‡ âŸ¨ â€œMonotonicity of âˆ¨â€ âŸ©
                x âˆˆ Aâ‚ â‡’ x âˆˆ Aâ‚‚
              â‰¡ âŸ¨ Assumption `Aâ‚ âŠ† Aâ‚‚` âŸ©
                true

Theorem â€œMonotonicity of âˆªâ€: Aâ‚ âŠ† Aâ‚‚ â‡’ Bâ‚ âŠ† Bâ‚‚ â‡’ (Aâ‚ âˆª Bâ‚) âŠ† (Aâ‚‚ âˆª Bâ‚‚)
Proof:
    Assuming `Aâ‚ âŠ† Aâ‚‚` and using with â€œSet inclusionâ€, `Bâ‚ âŠ† Bâ‚‚` and using with â€œSet inclusionâ€:
        Using â€œSet inclusionâ€:
            For any `x`:
                x âˆˆ (Aâ‚ âˆª Bâ‚) â‡’ x âˆˆ (Aâ‚‚ âˆª Bâ‚‚)
              â‰¡ âŸ¨ â€œUnionâ€ âŸ©
                x âˆˆ Aâ‚ âˆ¨ x âˆˆ Bâ‚ â‡’ x âˆˆ Aâ‚‚ âˆ¨ x âˆˆ Bâ‚‚
              â‡ âŸ¨ â€œMonotonicity of âˆ¨â€ with Assumption `Aâ‚ âŠ† Aâ‚‚` âŸ©
                (x âˆˆ Bâ‚ â‡’ x âˆˆ Bâ‚‚)
              â‰¡ âŸ¨ Assumption `Bâ‚ âŠ† Bâ‚‚` âŸ©
                true

Theorem â€œDistributivity of â¨¾ over âˆª to the leftâ€
        â€œDistributivity of â¨¾ over âˆªâ€:
    (Q âˆª R) â¨¾ S  =  Q â¨¾ S  âˆª  R â¨¾ S
Proof:
    Using â€œRelation extensionalityâ€:
        Subproof for `âˆ€ x â€¢ âˆ€ y â€¢ x â¦— (Q âˆª R) â¨¾ S â¦˜ y â‰¡ x â¦— Q â¨¾ S  âˆª  R â¨¾ S â¦˜ y`:
            For any `x`:
                For any `y`:
                    x â¦— (Q âˆª R) â¨¾ S â¦˜ y
                  â‰¡ âŸ¨ â€œRelation compositionâ€ and â€œRelation unionâ€ âŸ©
                    âˆƒ z â€¢ (x â¦— Q â¦˜ z âˆ¨ x â¦— R â¦˜ z) âˆ§ z â¦— S â¦˜ y
                  â‰¡ âŸ¨ â€œDistributivity of âˆ§ over âˆ¨â€ âŸ©
                    âˆƒ z â€¢ (x â¦— Q â¦˜ z âˆ§ z â¦— S â¦˜ y) âˆ¨ (x â¦— R â¦˜ z âˆ§ z â¦— S â¦˜ y)
                  â‰¡ âŸ¨ â€œDistributivity of âˆƒ over âˆ¨â€ âŸ©
                    (âˆƒ z â€¢ x â¦— Q â¦˜ z âˆ§ z â¦— S â¦˜ y) âˆ¨ (âˆƒ z â€¢ x â¦— R â¦˜ z âˆ§ z â¦— S â¦˜ y)
                  â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                    x â¦— Q â¨¾ S â¦˜ y âˆ¨ x â¦— R â¨¾ S â¦˜ y
                  â‰¡ âŸ¨ â€œRelation unionâ€ and â€œReflexivity of â‰¡â€ âŸ©
                    x â¦— (Q â¨¾ S)  âˆª  (R â¨¾ S) â¦˜ y

Theorem â€œUnivalence of compositionâ€:
     is-univalent R â‡’ is-univalent S â‡’ is-univalent (R â¨¾ S)
Proof:
    Assuming `is-univalent R` and using with â€œDefinition of univalenceâ€, `is-univalent S` and using with â€œDefinition of univalenceâ€:
        Using â€œDefinition of univalenceâ€:
            (R â¨¾ S) Ë˜ â¨¾ (R â¨¾ S) 
          = âŸ¨ â€œConverse of â¨¾â€ âŸ©
            ((S Ë˜) â¨¾ (((R Ë˜) â¨¾ R) â¨¾ S))
          âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with â€œMonotonicity of â¨¾â€ with Assumption `is-univalent R` âŸ©
            ((S Ë˜) â¨¾ (Id â¨¾ S)) 
          âŠ† âŸ¨ â€œIdentity of â¨¾â€ and Assumption `is-univalent S` âŸ©
            Id

Theorem â€œUnivalenceâ€:
      is-univalent R
   â‰¡  âˆ€ bâ‚ â€¢ âˆ€ bâ‚‚ â€¢ âˆ€ a â€¢ a â¦— R â¦˜ bâ‚ âˆ§ a â¦— R â¦˜ bâ‚‚ â‡’ bâ‚ = bâ‚‚
Proof:
    âˆ€ bâ‚ â€¢ âˆ€ bâ‚‚ â€¢ âˆ€ a â€¢ a â¦— R â¦˜ bâ‚ âˆ§ a â¦— R â¦˜ bâ‚‚ â‡’ bâ‚ = bâ‚‚
  â‰¡ âŸ¨ â€œReflexivity of â‰¡â€ âŸ© 
    (âˆ€ bâ‚ â€¢ (âˆ€ bâ‚‚ â€¢ (âˆ€ a â€¢ a â¦— R â¦˜ bâ‚ âˆ§ a â¦— R â¦˜ bâ‚‚ â‡’ bâ‚ = bâ‚‚)))
  â‰¡ âŸ¨ â€œWitnessâ€ âŸ©
    (âˆ€ bâ‚ â€¢ (âˆ€ bâ‚‚ â€¢ (âˆƒ a â™ a â¦— R â¦˜ bâ‚ â€¢ a â¦— R â¦˜ bâ‚‚) â‡’ bâ‚ = bâ‚‚))
  â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
    (âˆ€ bâ‚ â€¢ (âˆ€ bâ‚‚ â€¢ (âˆƒ a â™ bâ‚ â¦— R Ë˜ â¦˜ a â€¢ a â¦— R â¦˜ bâ‚‚) â‡’ bâ‚ = bâ‚‚))
  â‰¡ âŸ¨ â€œTrading for âˆƒâ€ âŸ©
    (âˆ€ bâ‚ â€¢ (âˆ€ bâ‚‚ â€¢ (âˆƒ a â€¢ bâ‚ â¦— R Ë˜ â¦˜ a âˆ§ a â¦— R â¦˜ bâ‚‚) â‡’ bâ‚ = bâ‚‚))
  â‰¡ âŸ¨ â€œRelation compositionâ€ and â€œIdentity relationâ€ and â€œReflexivity of â‰¡â€ âŸ©
    (âˆ€ bâ‚ â€¢ (âˆ€ bâ‚‚ â€¢ (bâ‚ â¦— R Ë˜ â¨¾ R â¦˜ bâ‚‚) â‡’ bâ‚ â¦— Id â¦˜ bâ‚‚))
  â‰¡ âŸ¨ â€œRelation inclusionâ€ âŸ©
    R Ë˜ â¨¾ R âŠ† Id
  â‰¡ âŸ¨ â€œDefinition of univalenceâ€ âŸ©
    is-univalent R

Lemma â€œLemmas In PaRisâ€: is-total R â‰¡ ( âˆ€ x â€¢ (âˆƒ y â€¢ (x â¦— R â¦˜ y ) ) ) 
Proof:
    is-total R
  â‰¡ âŸ¨ â€œDefinition of totalityâ€ âŸ©
    Id âŠ† R â¨¾ R Ë˜
  â‰¡ âŸ¨ â€œRelation inclusionâ€ âŸ©
    (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— Id â¦˜ y â‡’ x â¦— R â¨¾ R Ë˜ â¦˜ y ) )
  â‰¡ âŸ¨ â€œIdentity relationâ€ âŸ©
    (âˆ€ x â€¢ (âˆ€ y â€¢ x = y â‡’ x â¦— R â¨¾ R Ë˜ â¦˜ y ) )
  â‰¡ âŸ¨ â€œTrading for âˆ€â€ âŸ©
    (âˆ€ x â€¢ (âˆ€ y â™ y = x â€¢ x â¦— R â¨¾ R Ë˜ â¦˜ y ) )
  â‰¡ âŸ¨ â€œOne-point rule for âˆ€â€ âŸ©
    ( âˆ€ x â€¢ (x â¦— R â¨¾ R Ë˜ â¦˜ y)[y â‰” x] )
  â‰¡ âŸ¨ Substitution âŸ©
    ( âˆ€ x â€¢ (x â¦— R â¨¾ R Ë˜ â¦˜ x) )
  â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
    ( âˆ€ x â€¢ (âˆƒ y â€¢ (x â¦— R â¦˜ y  âˆ§  y â¦— R Ë˜ â¦˜ x) ) )
  â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
    ( âˆ€ x â€¢ (âˆƒ y â€¢ (x â¦— R â¦˜ y  âˆ§  x â¦— R â¦˜ y) ) )
  â‰¡ âŸ¨ â€œIdempotency of âˆ§â€ âŸ©
    ( âˆ€ x â€¢ (âˆƒ y â€¢ (x â¦— R â¦˜ y ) ) ) 

Theorem â€œTotality of unionâ€:
    is-total R â‡’ is-total S â‡’ is-total (R âˆª S)
Proof:
    Assuming `is-total R` and using with â€œDefinition of totalityâ€, `is-total S` and using with â€œDefinition of totalityâ€:
        Using â€œDefinition of totalityâ€:
            Id âŠ† (R âˆª S) â¨¾ (R âˆª S) Ë˜
          â‰¡ âŸ¨ â€œRelation inclusionâ€ and â€œTrading for âˆ€â€ and â€œIdentity relationâ€ âŸ©
            (âˆ€ x â€¢ (âˆ€ y â™ x = y â€¢ x â¦— (R âˆª S) â¨¾ (R âˆª S) Ë˜ â¦˜ y))
          â‰¡ âŸ¨ â€œOne-point rule for âˆ€â€ âŸ©
            (âˆ€ x â€¢ (x â¦— (R âˆª S) â¨¾ (R âˆª S) Ë˜ â¦˜ y)[y â‰” x])
          â‰¡ âŸ¨ Substitution âŸ©
            (âˆ€ x â€¢ (x â¦— (R âˆª S) â¨¾ (R âˆª S) Ë˜ â¦˜ x))
          â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
            (âˆ€ x â€¢ (âˆƒ y â€¢ x â¦— (R âˆª S) â¦˜ y âˆ§ y â¦— (R âˆª S) Ë˜ â¦˜ x   )  )
          â‰¡ âŸ¨ â€œRelation converseâ€ and â€œIdempotency of âˆ§â€ âŸ©
            (âˆ€ x â€¢ (âˆƒ y â€¢ x â¦— (R âˆª S) â¦˜ y )  )
          â‰¡ âŸ¨ â€œRelation unionâ€ âŸ©
            (âˆ€ x â€¢ (âˆƒ y â€¢ x â¦— R â¦˜ y  âˆ¨  x â¦— S â¦˜ y))
          â‡ âŸ¨ â€œBody monotonicity of âˆ€â€ with â€œBody weakening for âˆƒâ€ âŸ© 
            (âˆ€ x â€¢ (âˆƒ y â€¢ x â¦— R â¦˜ y ))
          â‰¡ âŸ¨ â€œLemmas In PaRisâ€ âŸ© 
            is-total R
          â‰¡ âŸ¨ Assumption `is-total R` âŸ© 
            true

Theorem â€œTotalityâ€: is-total R  â‰¡  âˆ€ a â€¢ âˆƒ b â€¢ a â¦— R â¦˜ b
Proof:
    is-total R
  â‰¡ âŸ¨ â€œDefinition of totalityâ€ and â€œRelation inclusionâ€ and â€œReflexivity of â‰¡â€ âŸ©
    (âˆ€ a â€¢ (âˆ€ b â€¢ a â¦— Id â¦˜ b â‡’ a â¦— R â¨¾ R Ë˜ â¦˜ b))
  â‰¡ âŸ¨ â€œIdentity relationâ€ âŸ©
    (âˆ€ a â€¢ (âˆ€ b â€¢ a = b â‡’ a â¦— R â¨¾ R Ë˜ â¦˜ b))
  â‰¡ âŸ¨ â€œTrading for âˆ€â€ âŸ©
    (âˆ€ a â€¢ (âˆ€ b â™ a = b â€¢ a â¦— R â¨¾ R Ë˜ â¦˜ b))
  â‰¡ âŸ¨ â€œOne-point rule for âˆ€â€ and Substitution âŸ©
    (âˆ€ a â€¢ a â¦— R â¨¾ R Ë˜ â¦˜ a)
  â‰¡ âŸ¨ â€œRelation compositionâ€ and â€œRelation converseâ€ and â€œIdempotency of âˆ§â€ âŸ©
    (âˆ€ a â€¢ (âˆƒ b â€¢ a â¦— R â¦˜ b))

Theorem â€œDomain of total relationsâ€: is-total R       â‰¡  ğ” âŠ† Dom R
Proof:
     ğ” âŠ† Dom R
  â‰¡ âŸ¨ â€œSet inclusionâ€ and â€œUniversal setâ€ and â€œLeft-identity of â‡’â€ âŸ©
    âˆ€ x â€¢ x âˆˆ Dom R
  â‰¡ âŸ¨ â€œMembership in `Dom`â€ and â€œTotalityâ€ âŸ©
    is-total R

Theorem â€œDomain of total relationsâ€:  is-total R  â‰¡  Dom R = ğ”
Proof:
    Dom R = ğ”
  â‰¡ âŸ¨ â€œSet extensionalityâ€ and â€œUniversal setâ€ and â€œIdentity of â‰¡â€ âŸ©
    âˆ€ x â€¢ x âˆˆ Dom R
  â‰¡ âŸ¨ â€œMembership in `Dom`â€ and â€œTotalityâ€ âŸ©
    is-total R

Theorem â€œInjectivity of converseâ€:
    is-injective (R Ë˜) â‰¡  is-univalent R
Proof:
    By â€œDefinition of injectivityâ€ and â€œSelf-inverse of Ë˜â€ and â€œDefinition of univalenceâ€

Theorem â€œUnivalence of converseâ€:
    is-univalent (R Ë˜)  â‰¡  is-injective R
Proof:
    By â€œDefinition of univalenceâ€ and â€œSelf-inverse of Ë˜â€ and â€œDefinition of injectivityâ€

Theorem â€œInjectivityâ€:
       is-injective R
    â‰¡  âˆ€ aâ‚ â€¢ âˆ€ aâ‚‚ â€¢ âˆ€ b â€¢ aâ‚ â¦— R â¦˜ b âˆ§ aâ‚‚ â¦— R â¦˜ b â‡’ aâ‚ = aâ‚‚
Proof:
    By â€œUnivalence of converseâ€ and â€œUnivalenceâ€ and â€œRelation converseâ€

Theorem â€œTotality of converseâ€:
    is-total (R Ë˜)  â‰¡  is-surjective R
Proof:
    By â€œDefinition of totalityâ€ and â€œSelf-inverse of Ë˜â€ and â€œDefinition of surjectivityâ€

Theorem â€œSurjectivityâ€:
    is-surjective R  â‰¡  (âˆ€ b â€¢ (âˆƒ a â€¢ a â¦— R â¦˜ b))
Proof:
    By â€œTotality of converseâ€ and â€œTotalityâ€ and â€œRelation converseâ€ and â€œInterchange of quantificationsâ€