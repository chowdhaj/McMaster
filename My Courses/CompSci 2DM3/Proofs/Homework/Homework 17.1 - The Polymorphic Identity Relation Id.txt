Homework 17.1: The Polymorphic Identity Relation `Id`

Theorem â€œIdentity relationâ€ â€œRelationship via `Id`â€:
    x â¦— Id â¦˜ y  â‰¡  x = y
Proof:
    x â¦— Id â¦˜ y  
  = âŸ¨ â€œDefinition of `Id` via ğ•€â€ âŸ©
    x â¦— ğ•€ ğ” â¦˜ y  
  = âŸ¨ â€œRelationship via ğ•€â€ âŸ©
    x = y âˆ§ y âˆˆ ğ”
  = âŸ¨ â€œUniversal setâ€ âŸ©
    x = y âˆ§ true
  = âŸ¨ â€œIdentity of âˆ§â€ âŸ© 
    x = y

Theorem â€œConverse of `Id`â€: Id Ë˜        =  Id
Proof:
    Using â€œRelation extensionalityâ€:
        Subproof for `(âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— Id Ë˜ â¦˜ y â‰¡ x â¦— Id â¦˜ y ) )`:
            For any `x`, `y`:
                x â¦— Id Ë˜ â¦˜ y
              â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                y â¦— Id â¦˜ x 
              â‰¡ âŸ¨ â€œIdentity relationâ€ âŸ©
                y = x
              â‰¡ âŸ¨ â€œIdentity relationâ€ âŸ©
                x â¦— Id â¦˜ y  

Theorem â€œLeft-identity of â¨¾â€ â€œIdentity of â¨¾â€:
    Id â¨¾ R = R
Proof:
    Using â€œRelation extensionalityâ€:
        Subproof for `(âˆ€ x â€¢ (âˆ€ y â€¢ (x â¦— Id â¨¾ R â¦˜ y â‰¡ x â¦— R â¦˜ y )))`:
            For any `x`, `y`:
                x â¦— Id â¨¾ R â¦˜ y 
              â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                âˆƒ z â€¢ x â¦— Id â¦˜ z âˆ§ z â¦— R â¦˜ y
              â‰¡ âŸ¨ â€œIdentity relationâ€ âŸ©
                âˆƒ z â€¢ (z = x) âˆ§ (z â¦— R â¦˜ y)
              â‰¡ âŸ¨ â€œTrading for âˆƒâ€ âŸ©
                âˆƒ z â™ (z = x) â€¢ (z â¦— R â¦˜ y) 
              â‰¡ âŸ¨ â€œOne-point rule for âˆƒâ€ âŸ©
                (z â¦— R â¦˜ y)[z â‰” x]
              â‰¡ âŸ¨ Substitution âŸ©
                (x â¦— R â¦˜ y)

Theorem â€œRight-identity of â¨¾â€ â€œIdentity of â¨¾â€:
    R â¨¾ Id = R
Proof:
    Using â€œRelation extensionalityâ€:
        For any `x`, `y`:
            x â¦— R â¨¾ Id â¦˜ y  
          â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
            âˆƒ z â€¢ x â¦— R â¦˜ z âˆ§ z â¦— Id â¦˜ y
          â‰¡ âŸ¨ â€œIdentity relationâ€ âŸ©
            âˆƒ z â€¢ (z = y) âˆ§ (x â¦— R â¦˜ z)
          â‰¡ âŸ¨ â€œTrading for âˆƒâ€ âŸ©
            âˆƒ z â™ (z = y) â€¢ (x â¦— R â¦˜ z)
          â‰¡ âŸ¨ â€œOne-point rule for âˆƒâ€ âŸ©
            (x â¦— R â¦˜ z)[z â‰” y]
          â‰¡ âŸ¨ Substitution âŸ© 
            x â¦— R â¦˜ y